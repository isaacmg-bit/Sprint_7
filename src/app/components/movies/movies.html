@if (movieService.loading()) {
  <div class="flex min-h-screen items-center justify-center">
    <div
      class="h-48 w-48 animate-spin rounded-full border-4 border-gray-300 border-t-gray-800"
    ></div>
  </div>
} @else {
  <div
    data-route="movies"
    class="h-screen overflow-y-auto"
    infiniteScroll
    [infiniteScrollDistance]="2"
    [infiniteScrollThrottle]="150"
    [scrollWindow]="false"
    (scrolled)="onScroll()"
  >
    <main class="bg-black min-h-screen space-y-4 px-4 py-4">
      @for (movie of movieService.movies(); track movie.id) {
        <div class="mx-auto max-w-6xl">
          <a
            [routerLink]="['/moviecard', movie.id]"
            class="flex items-center justify-between gap-4 rounded-lg bg-white/5 px-6 py-4 transition hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
            <div class="flex flex-col gap-1">
              <p class="text-lg font-semibold text-white">
                {{ movie.title }}
              </p>

              <p class="text-sm text-gray-400">
                {{ movieService.getDirectorByMovieId(movie.id) }}
              </p>

              <p class="text-sm text-gray-400">
                {{ movie.release_date.substring(0, 4) }}
              </p>
            </div>

            <img
              class="w-24 h-auto rounded-md object-cover"
              [src]="'https://image.tmdb.org/t/p/w780/' + movieService.getPosterByMovieId(movie.id)"
              [alt]="movie.title"
            />
          </a>
        </div>
      }
    </main>
  </div>
}
